<rml>
    <head>
        <title>SeedDiary</title>
        <link type="text/template" href="../Base/BasePopup.rml" />
        <link type="text/rcss" href="../Base/WindowTitle.rcss" />
        <link type="text/rcss" href="SeedDiary.rcss" />
    </head>
    <body template="BasePopup" class="show-scrollbar wondow-content-full wondow-content-horizontal">
		<div data-model="SeedDiaryModel" id="seed-diary-popup" class="font-content">
			<div class="font-contentnormal">
				<div class="top-panel">
					<div id="window-title">
						<div class="title-icon" />
						<div class="title-text font-title label">
							Seed Diary
						</div>
					</div>
					<div class="top-padding">
						<table>
							<tr id="panel-top-level">
								<!--Left Side Panel-->
								<td>
									<table>
										<!--Search and Filter-->
										<tr>
											<td>
												<table class="color_dreamsicle font-regular">
													<!--Search-->
													<tr>
														<td class="vcenter" style="width: 95dp;">
															Search:
														</td>
														<td>
															<div class="search-container" style="padding-left: 5dp;">
																<input class="input" type="text" data-value="SeedDiaryModel.SearchText" onkeyup="OnEvent(event, 'HandleSearchInput')"/>
															</div>
														</td>
													</tr>
													<!--Filter-->
													<tr class="small-border-top">
														<td class="vcenter">Sort:</td>
														<td>
															<div class="sort-filter-wrapper">
																<div class="sort-options-container">
																	<select id="sort-options" class="select" style="height: 32dp;">
																		<option value="sort-rarity-asc" data-class-selected="SeedDiaryModel.SortType == 'RarityAsc'" sort-type="RarityAsc" onclick="OnEvent(event, 'OnSort')">
																			<div id="sort-rarity-asc" class="img-button"/> Rarity: Low to High
																		</option>
																		<option value="sort-rarity-des" data-class-selected="SeedDiaryModel.SortType == 'RarityDes'" sort-type="RarityDes" onclick="OnEvent(event, 'OnSort')">
																			<div id="sort-rarity-des" class="img-button"/> Rarity: High to Low
																		</option>
																		<option value="sort-alpha-asc" data-class-selected="SeedDiaryModel.SortType == 'NameAsc'" sort-type="NameAsc" onclick="OnEvent(event, 'OnSort')">
																			<div id="sort-alpha-asc" class="img-button"/> Name: A to Z
																		</option>
																		<option value="sort-alpha-des" data-class-selected="SeedDiaryModel.SortType == 'NameDes'" sort-type="NameDes" onclick="OnEvent(event, 'OnSort')">
																			<div id="sort-alpha-des" class="img-button"/> Name: Z to A
																		</option>
																	</select>
																</div>
																<div class="img-button button-default-color" style="padding-left:8dp;padding-right:8dp;" onclick="OnEvent(event, 'OnTogglePopup')">
																	<span class="label">Filter</span>
																</div>

																<!-- Popup Container (initially hidden) -->
																<div id="filter-popup" class="popup hidden">
																	<div class="checkbox-group">
																		
																		<div>
																			<input type="checkbox" filter-type="Grown" data-checked="SeedDiaryModel.ShowGrown" onclick="OnEvent(event, 'OnFilter')">
																				<span class="label">Planted</span>
																			</input>
																		</div>
																		<div>
																			<input type="checkbox" filter-type="Discovered" data-checked="SeedDiaryModel.ShowDiscovered" onclick="OnEvent(event, 'OnFilter')">
																				<span class="label">Discovered</span>
																			</input>
																		</div>
																		<div>
																			<input type="checkbox" filter-type="Locked" data-checked="SeedDiaryModel.ShowLocked" onclick="OnEvent(event, 'OnFilter')">
																				<span class="label">Unknown</span>
																			</input>
																		</div>																
																		
																		<div style="color: white; font-effect: shadow(1dp 1dp #000); padding-top:10dp; padding-bottom:10dp;">Item Type:</div>

																		<div>
																			<input type="checkbox" filter-type="Blocks" data-checked="SeedDiaryModel.ShowBlocks" onclick="OnEvent(event, 'OnFilter')">
																				<span class="label">Blocks</span>
																			</input>
																		</div>

																		<div>
																			<input type="checkbox" filter-type="Clothes" data-checked="SeedDiaryModel.ShowClothes" onclick="OnEvent(event, 'OnFilter')">
																				<span class="label">Clothes</span>
																			</input>
																		</div>
																	</div>
																</div>

															</div>
														</td>
													</tr>
												</table>
											</td>
										</tr>
										<!--All Items-->
										<tr id="page_conteiner" class="top-padding" min-rows="2">
											<td class="blue-bg">
												<!--Info-->
												<div id="page_top_section" class="nav-container hcenter" style="padding-left:25dp; padding-right:25dp;">
													<div style="width:100%;" data-rml="ToRMLText(Localize('[SEED_DIARY_DISCOVERED]', SeedDiaryModel.TotalItemsDiscovered, SeedDiaryModel.Items.size))"/>
													<div style="width:100%; text-align: right;" data-rml="ToRMLText(Localize('[SEED_DIARY_GROWN]', SeedDiaryModel.TotalItemsGrown, SeedDiaryModel.Items.size))"/>
												</div>
												<!--Item Grid-->
												<div id="panel-item-select" class="items-panel">
													<div data-for="item : SeedDiaryModel.ViewItems">
														<div data-attr-item_index="item.ItemID" class="overlay-container" onclick="OnEvent(event, 'OnItemSelect')" data-class-hidden="!item.Discovered">
															<div id="image-border" data-class-hidden="item.ItemID == SeedDiaryModel.Selection.ItemID"/>
															<div id="image-border-sel" data-class-hidden="item.ItemID != SeedDiaryModel.Selection.ItemID"/>
															<div id="image" data-style-decorator="'itemidimage('+item.DisplayID+')'"/>
															<div id="overlay-complete" data-class-hidden="!item.Grown"/>
														</div>
														<div data-attr-item_index="item.ItemID" class="overlay-container" onclick="OnEvent(event, 'OnItemSelect')" data-class-hidden="item.Discovered">
															<div id="border" data-class-hidden="item.DiscoveredSeeds"/>
															<div id="border-blue" data-class-hidden="!item.DiscoveredSeeds"/>
															<div id="question-mark" data-class-hidden=""/>
														</div>
													</div>
												</div>
												<!-- Navigation -->
												<div id="page_nav_section" class="nav-container hcenter" style="padding-left:25dp; padding-right:25dp;" data-visible="SeedDiaryModel.NumPages > 0">
													<div onclick="OnEvent(event, 'OnPrev')" class="image-prev" data-visible="SeedDiaryModel.Page > 0"/>
													<div class="page" data-rml="ToRMLText(Localize('[SEED_DIARY_PAGE]', SeedDiaryModel.Page+1, SeedDiaryModel.NumPages))"></div>
													<div onclick="OnEvent(event, 'OnNext')" class="image-next" data-visible="SeedDiaryModel.Page < SeedDiaryModel.NumPages-1"/>
												</div>
											</td>
										</tr>
									</table>
								</td>
								<!--Right Side Panel-->
								<td style="width: 400dp; padding-left:10dp;">
									<table class="dark-green-bg" style="height:100%; padding:8dp;" data-class-hidden="SeedDiaryModel.Selection.ItemID <= 0">
										<!--Selected Item Title-->
										<tr style="height:65dp;">
											<td class="green-bg">
												<div class="selected-item">
													<div class="overlay-container2">
														<div class="image" data-style-decorator="'itemidimage('+SeedDiaryModel.Selection.DisplayID+')'" data-class-hidden="!SeedDiaryModel.Selection.Discovered"/>
														<div class="question-mark" data-class-hidden="SeedDiaryModel.Selection.Discovered"/>
														<div id="auto-scrolling" class="scroll-container2 title" style="width:270dp; height:auto; top:10dp;">
															<div data-rml="ItemName(SeedDiaryModel.Selection.DisplayID)" data-class-hidden="!SeedDiaryModel.Selection.Discovered"/>
															<div data-class-hidden="SeedDiaryModel.Selection.Discovered">???</div>
														</div>
														<div class="holiday" data-class-hidden="!SeedDiaryModel.Selection.Holiday">Event Exclusive</div>
													</div>
												</div>
											</td>
										</tr>
										<!--Seeds used to make selected item-->
										<tr id="panel-seeds" class="small-border-top" style="height:135dp;" data-class-hidden="SeedDiaryModel.Selection.Seeds.size <= 0">
											<td>
												<table data-for="item : SeedDiaryModel.Selection.Seeds">
													<tr class="small-border-top">
														<td style="width: 65dp;">
															<div class="selected-item" data-class-hidden="!item.Discovered">
																<div class="overlay-container" data-attr-item_index="item.ItemID" onclick="OnEvent(event, 'OnItemSelect')">
																	<div id="image-border"/>
																	<div id="image" data-style-decorator="'itemidimage('+item.DisplayID+')'"/>
																	<div id="overlay-complete" data-class-hidden="!item.Grown"/>
																</div>
															</div>
															<div class="selected-item" data-attr-item_index="item.ItemID" onclick="OnEvent(event, 'OnItemSelect')" data-class-hidden="item.Discovered">
																<div class="overlay-container">
																	<div id="border"/>
																	<div id="question-mark"/>
																</div>
															</div>
														</td>
														<td class="dark-green2-bg">
															<div class="selected-item">
																<div class="seed-name color_dreamsicle" data-rml="TextWithEllipsis(SeedName(item.SeedID), 20)" data-class-hidden="!item.Discovered"/>
																<div class="seed-name color_dreamsicle" data-class-hidden="item.Discovered">???</div>
																
																<div class="overlay-container" style="width:auto;" data-class-hidden="!item.Discovered">
																	<div id="image" data-style-decorator="'itemidimage('+item.SeedID+')'"/>
																</div>
																<div class="overlay-container" style="width:auto;" data-class-hidden="item.Discovered">
																	<div id="image" data-style-decorator="'itemidimage('+SeedDiaryModel.MysterySeedItemID+')'"/>
																</div>
															</div>
														</td>
													</tr>
												</table>
											</td>
										</tr>
										<!--Items to make from this seed-->
										<tr class="top-padding" style="height:100%;" data-class-hidden="SeedDiaryModel.Selection.UsedToMakeItems.size <= 0">
											<td style="padding-bottom:10dp;">
												<div class="green2-bg" style="height: 100%; padding-bottom:10dp; padding-left:10dp;">
													<div data-rml="ToRMLText(Localize('[SEED_DIARY_MAKE_INFO]'))"/>
													<div id="panel-make-from-seed" class="items-panel small-border-top scroll-container" style="height:135dp; gap:14dp;">
														<div data-for="item : SeedDiaryModel.Selection.UsedToMakeItems">
															<div data-attr-item_index="item.ItemID" class="overlay-container" onclick="OnEvent(event, 'OnItemSelect')" data-class-hidden="!item.Discovered">
																<div id="image-border"/>
																<div id="image" data-style-decorator="'itemidimage('+item.ItemID+')'"/>
																<div id="overlay-complete" data-class-hidden="!item.Grown"/>
															</div>
															<div data-attr-item_index="item.ItemID" class="overlay-container"  onclick="OnEvent(event, 'OnItemSelect')" data-class-hidden="item.Discovered">
																<div id="border" data-class-hidden="item.DiscoveredSeeds"/>
																<div id="border-blue" data-class-hidden="!item.DiscoveredSeeds"/>
																<div id="question-mark"/>
															</div>
														</div>
													</div>
												</div>
											</td>
										</tr>
									</table>
									<!-- No item selected -->
									<table class="green-gradient-bg" style="padding:60dp;" data-class-hidden="SeedDiaryModel.Selection.ItemID > 0 || SeedDiaryModel.TotalItemsDiscovered <= 0">
										<tr>
											<td class="vcenter font-regular" style="text-align: center;" data-rml="ToRMLText(Localize('[SEED_DIARY_NO_SELECT_INFO]'))"/>
										</tr>
									</table>
									<!-- No seeds discovered -->
									<table class="green-gradient-bg" style="padding:8dp;" data-class-hidden="SeedDiaryModel.TotalItemsDiscovered > 0">
										<tr>
											<td class="vcenter" style="padding:10dp;">
												<div class="font-regular" style="text-align: center;" data-rml="ToRMLText(Localize('[SEED_DIARY_NO_ITEMS_INFO_1]'))"/>
												<div class="top-padding" style="text-align: center;" data-rml="ToRMLText(Localize('[SEED_DIARY_NO_ITEMS_INFO_2]'))"/>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						<!--Back Button-->
						<div class="top-padding">
							<div onclick="OnEvent(event, 'OnBack')" class="button button-default-color">
								<span class="label">Back</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
    </body>
</rml>
