<?xml version="1.0" encoding="utf-8"?>
<ItemRenderer>
  <Data>
    <Sprite name="s_hatForeground" fileName="game/player_cosmetics4.rttex" textureSize="32" frame="8,14"/>
    <Sprite name="s_Punch_aura" fileName="game/particles_large16.rttex" textureSize="64" frame="14,3"/>
    <Sprite name="s_Punch_speed_lines" fileName="game/particles12.rttex" textureSize="32" frame="30,9"/>
    <Sprite name="s_Jump_stars1" fileName="game/particles12.rttex" textureSize="32" frame="28,10"/>
    <Sprite name="s_Jump_stars2" fileName="game/particles12.rttex" textureSize="32" frame="29,10"/>
    <Sprite name="s_Jump_stars3" fileName="game/particles12.rttex" textureSize="32" frame="30,10"/>
    <Sprite name="s_Jump_stars4" fileName="game/particles12.rttex" textureSize="32" frame="31,10"/>
    <StateMachines>
	    <StateMachine name="Action">
		    <States>
			    <State name="None" />
			    <State name="Punch" />
		    </States>
		    <Transitions>
			    <Transition to="None" from="Punch">
				    <Condition>
					    <IsAction operatorType="NotEqual">PUNCH</IsAction>
				    </Condition>
			    </Transition>
			    <Transition to="Punch" from="None">
				    <Condition>
					    <IsAction>PUNCH</IsAction>
				    </Condition>
			    </Transition>
		    </Transitions>
	    </StateMachine>
	    <StateMachine name="DoDoubleJump">
		    <States>
			    <State name="No" />
			    <State name="Yes" ExitTime="0.1" />
		    </States>
		    <Transitions>
			    <Transition to="Yes" from="No">
				    <Condition>
					    <IsAction>JUMPDOUBLE</IsAction>
				    </Condition>
			    </Transition>
			    <Transition to="No" from="Yes" />
		    </Transitions>
	    </StateMachine>
    </StateMachines>
    <Animations>
	    <SpriteAnimation name="s_hatForeground_Anim" autoPlay="true" isLoop="true" sprite="s_hatForeground"  animTime="1000">
		    <Frame>19, 1</Frame>
		    <Frame>20, 1</Frame>
		    <Frame>21, 1</Frame>
		    <Frame>22, 1</Frame>
		    <Frame>23, 1</Frame>
		    <Frame>24, 1</Frame>
		    <Frame>25, 1</Frame>
		    <Frame>26, 1</Frame>
		    <Frame>27, 1</Frame>
		    <Frame>28, 1</Frame>
	    </SpriteAnimation>

	    <SpriteAnimation name="double_jump_particle_Sprite_frames"  autoPlay="false" isLoop="false" sprite="s_Jump_stars">
		    <Frame>28,10</Frame>
		    <Frame>29,10</Frame>
		    <Frame>30,10</Frame>
		    <Frame>31,10</Frame>
	    </SpriteAnimation>
	    <SpriteAnimation name="Punch_speed_lines_anim" autoPlay="false" sprite="s_Punch_speed_lines">
		    <Frame>30, 9</Frame>
		    <Frame>31, 9</Frame>
	    </SpriteAnimation>	    
		
    </Animations>
    <ParticleSystems>
		<ParticleSystem name="double_jump_particle" updateStage="AddClothingParticles" updateState="DoDoubleJump.Yes">
			<Emitter>
				<Set name="lifeTime">0.4</Set>
				<Set name="particlesPerEmission">12</Set>
				<Set name="particlesToEmit">1</Set>
				<Set name="infParticles">true</Set>
				<Set name="checkParticleNumToEmit">true</Set>
			</Emitter>
			<Particle>
				<Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
				<Set name="isBackgroundParticle">true</Set>
				<Set name="initialScale">1,1</Set>
				<Set name="initalRGB">1, 1, 1</Set>
				<Set name="relativeToEmitter">false</Set>
				<Set name="rotateWithVelocity">true</Set>
				<Set name="lifeTime">0.75</Set>
				<Curve name="initialAlpha">
					<KeyFrame>0, 1</KeyFrame>
					<KeyFrame>1, 0</KeyFrame>
				</Curve>
				<Random name="variantId" min="0" max="8" />
				<Set name="interpolateVelocity">true</Set>
				<Select name="sprite" input="variantId">
					<Item>"s_Jump_stars1"</Item>
					<Item>"s_Jump_stars3"</Item>
					<Item>"s_Jump_stars4"</Item>
					<Item>"s_Jump_stars2"</Item>
					<Item>"s_Jump_stars3"</Item>
					<Item>"s_Jump_stars1"</Item>
					<Item>"s_Jump_stars2"</Item>
					<Item>"s_Jump_stars4"</Item>
				</Select>
				<Select name="initialVelocity" input="variantId">
					<Item>132.24, 1.16</Item>
					<Item>87.12, 91.96</Item>
					<Item>9.36, 134.0</Item>
					<Item>-84.48, 80.12</Item>
					<Item>-134.6, -7.04</Item>
					<Item>-88.88, -78.72</Item>
					<Item>-9.28, -126.2</Item>
					<Item>80.08, -93.52</Item>
				</Select>
				<Select name="finalVelocity" input="variantId">
					<Item>145.46, 1.28</Item>
					<Item>95.83, 101.16</Item>
					<Item>10.3, 147.4</Item>
					<Item>-92.93, 88.13</Item>
					<Item>-148.06, -7.74</Item>
					<Item>-97.77, -86.59</Item>
					<Item>-10.21, -138.82</Item>
					<Item>88.09, -102.87</Item>
				</Select>
			</Particle>
		</ParticleSystem>
	    <ParticleSystem name="ps_sparkTrail"  updateStage="AddClothingParticles" updateState="DoDoubleJump.Yes">
		    <Emitter>
			    <Set name="lifeTime">0.4</Set>
			    <Set name="particlesPerEmission">12</Set>
			    <Set name="particlesToEmit">1</Set>
			    <Set name="infParticles">true</Set>
			    <Set name="checkParticleNumToEmit">true</Set>
		    </Emitter>
		    <Particle>
			    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
			    <Set name="lifeTime">0.75</Set>
			    <Set name="isBackgroundParticle">true</Set>
			    <Set name="rotateWithVelocity">true</Set>
			    <Set name="initialScale">0.85,0.85</Set>
			    <Random name="variantId" min="0" max="8" />
			    <Set name="interpolateVelocity">true</Set>
			    <Select name="sprite" input="variantId">
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars4"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars4"</Item>
			    </Select>
			    <Select name="initialVelocity" input="variantId">
				    <Item>119.02, 1.04</Item>
				    <Item>78.41, 82.76</Item>
				    <Item>8.42, 120.6</Item>
				    <Item>-76.03, 72.11</Item>
				    <Item>-121.14, -6.34</Item>
				    <Item>-79.99, -70.85</Item>
				    <Item>-8.35, -113.58</Item>
				    <Item>72.07, -84.17</Item>
			    </Select>
			    <Select name="finalVelocity" input="variantId">
				    <Item>132.24, 1.16</Item>
				    <Item>87.12, 91.96</Item>
				    <Item>9.36, 134.0</Item>
				    <Item>-84.48, 80.12</Item>
				    <Item>-134.6, -7.04</Item>
				    <Item>-88.88, -78.72</Item>
				    <Item>-9.28, -126.2</Item>
				    <Item>80.08, -93.52</Item>
				</Select>
			    <Curve name="initialAlpha">
				    <KeyFrame>0, 0.85</KeyFrame>
				    <KeyFrame>1, 0</KeyFrame>
			    </Curve>
		    </Particle>
	    </ParticleSystem>
	    <ParticleSystem name="ps_sparkTrail2" updateStage="AddClothingParticles" updateState="DoDoubleJump.Yes">
		    <Emitter>
			    <Set name="lifeTime">0.4</Set>
			    <Set name="particlesPerEmission">12</Set>
			    <Set name="particlesToEmit">1</Set>
			    <Set name="infParticles">true</Set>
			    <Set name="checkParticleNumToEmit">true</Set>
		    </Emitter>
		    <Particle>
			    <Set name="sprite">s_Jump_stars</Set>
			    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
			    <Set name="lifeTime">0.75</Set>
			    <Set name="isBackgroundParticle">true</Set>
			    <Set name="rotateWithVelocity">true</Set>
			    <Set name="initialScale">0.7,0.7</Set>
			    <Random name="variantId" min="0" max="8" />
			    <Set name="interpolateVelocity">true</Set>
			    <Select name="sprite" input="variantId">
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars4"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars4"</Item>
			    </Select>
			    <Select name="initialVelocity" input="variantId">
				    <Item>105.79, 0.93</Item>
				    <Item>69.7, 73.57</Item>
				    <Item>7.49, 107.2</Item>
				    <Item>-67.58, 64.1</Item>
				    <Item>-107.68, -5.63</Item>
				    <Item>-71.1, -62.98</Item>
				    <Item>-7.42, -100.96</Item>
				    <Item>64.06, -74.82</Item>
			    </Select>
			    <Select name="finalVelocity" input="variantId">
				    <Item>119.02, 1.04</Item>
				    <Item>78.41, 82.76</Item>
				    <Item>8.42, 120.6</Item>
				    <Item>-76.03, 72.11</Item>
				    <Item>-121.14, -6.34</Item>
				    <Item>-79.99, -70.85</Item>
				    <Item>-8.35, -113.58</Item>
				    <Item>72.07, -84.17</Item>
				</Select>
			    <Curve name="initialAlpha">
				    <KeyFrame>0, 0.7</KeyFrame>
				    <KeyFrame>1, 0</KeyFrame>
			    </Curve>
		    </Particle>
	    </ParticleSystem>
	    <ParticleSystem name="ps_sparkTrail3" updateStage="AddClothingParticles" updateState="DoDoubleJump.Yes">
		    <Emitter>
			    <Set name="lifeTime">0.4</Set>
			    <Set name="particlesPerEmission">12</Set>
			    <Set name="particlesToEmit">1</Set>
			    <Set name="infParticles">true</Set>
			    <Set name="checkParticleNumToEmit">true</Set>
		    </Emitter>
		    <Particle>
			    <Set name="sprite">s_Jump_stars</Set>
			    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
			    <Set name="lifeTime">0.75</Set>
			    <Set name="isBackgroundParticle">true</Set>
			    <Set name="rotateWithVelocity">true</Set>
			    <Set name="initialScale">0.55,0.55</Set>
			    <Random name="variantId" min="0" max="8" />
			    <Set name="interpolateVelocity">true</Set>
			    <Select name="sprite" input="variantId">
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars4"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars3"</Item>
				    <Item>"s_Jump_stars1"</Item>
				    <Item>"s_Jump_stars2"</Item>
				    <Item>"s_Jump_stars4"</Item>
			    </Select>
			    <Select name="initialVelocity" input="variantId">
				    <Item>95.21, 0.84</Item>
				    <Item>62.73, 66.21</Item>
				    <Item>6.74, 96.48</Item>
				    <Item>-60.82, 57.69</Item>
				    <Item>-96.91, -5.07</Item>
				    <Item>-63.99, -56.68</Item>
				    <Item>-6.68, -90.86</Item>
				    <Item>57.65, -67.34</Item>
				</Select>
			    <Select name="finalVelocity" input="variantId">
				    <Item>105.79, 0.93</Item>
				    <Item>69.7, 73.57</Item>
				    <Item>7.49, 107.2</Item>
				    <Item>-67.58, 64.1</Item>
				    <Item>-107.68, -5.63</Item>
				    <Item>-71.1, -62.98</Item>
				    <Item>-7.42, -100.96</Item>
				    <Item>64.06, -74.82</Item>
				</Select>
			    <Curve name="initialAlpha">
				    <KeyFrame>0, 0.55</KeyFrame>
				    <KeyFrame>1, 0</KeyFrame>
			    </Curve>
		    </Particle>
	    </ParticleSystem>

	    <ParticleSystem name="ps_Aura" updateStage="AddClothingParticles" updateState="Action.Punch">
		    <Emitter>
			    <Set name="offset">0, -12</Set>
			    <Set name="emissionInterval">0.15</Set>
			    <Set name="infParticles">true</Set>
			    <Set name="infLifeTime">true</Set>
			    <Set name="particlesPerEmission">1</Set>
		    </Emitter>
		    <Particle>
			    <Set name="sprite">s_Punch_aura</Set>
			    <Set name="relativeToEmitter">true</Set>
			    <Random name="offset" min="-3, 3" max="0, 0" />
			    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
			    <Curve name="initialAlpha">
				    <KeyFrame>0, 1</KeyFrame>
				    <KeyFrame>0.4, 1</KeyFrame>
				    <KeyFrame>1, 0</KeyFrame>
			    </Curve>
			    <Set name="isBackgroundParticle">true</Set>
			    <Curve name="initialScale">
				    <KeyFrame>0, 0.75, 0.75</KeyFrame>
				    <KeyFrame>1, 1, 1.25</KeyFrame>
			    </Curve>
			    <Set name="lifeTime">0.3</Set>
			    <Set name="initialVelocity">0, -100</Set>
		    </Particle>
	    </ParticleSystem>
	    <ParticleSystem name="ps_SpeedLines" updateStage="AddClothingParticles" updateState="Action.Punch">
		    <Emitter>
			    <Set name="offset">0, -10</Set>
			    <Set name="offsetFacing">false</Set>
			    <Random name="emissionInterval" min="0.15" max="0.25" />
			    <Set name="infParticles">true</Set>
			    <Set name="infLifeTime">true</Set>
			    <Set name="particlesPerEmission">1</Set>
		    </Emitter>
		    <Particle  randomSpriteFrame="true">
			    <Set name="sprite">s_Punch_speed_lines</Set>
			    <Set name="relativeToEmitter">true</Set>
			    <Random name="offset" min="-8, 0" max="8, 0" />
			    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
			    <Curve name="initialAlpha">
				    <KeyFrame>0, 1</KeyFrame>
				    <KeyFrame>0.5, 1</KeyFrame>
				    <KeyFrame>1, 0</KeyFrame>
			    </Curve>
				<Curve name="initialScale">
					<KeyFrame>0, 1,1</KeyFrame>
					<KeyFrame>1, 1,2</KeyFrame>
				</Curve>
			    <Set name="lifeTime">0.3</Set>
			    <Random name="initialVelocity" min="0, -50" max="0, -80" />
		    </Particle>
	    </ParticleSystem>
    </ParticleSystems>

    <RenderOptions>
	    <Default>
		    <Set name="IgnorePunchTypeCheck">true</Set>
		    <Set name="UserNameOffset">7</Set>
		    <Set name="IncludeAllActions">true</Set>
	    </Default>
    </RenderOptions>
    <VariableMap>
	    <Set name="parent1Velocity">0, 0</Set>
	    <Set name="parent2Velocity">0, 0</Set>
	    <Set name="parent3Velocity">0, 0</Set>
	    <Set name="parent4Velocity">0, 0</Set>
	    <Set name="parent5Velocity">0, 0</Set>
	    <Set name="exhaust.scale">0, 0</Set>
    </VariableMap>
  </Data>

  <RenderRules>
    <RenderHat>
      <SpriteRender name="s_hatForeground" alignment="DOWN_CENTER" offset="0,-16" scale="1,1"/>
    </RenderHat>
  </RenderRules>
</ItemRenderer>