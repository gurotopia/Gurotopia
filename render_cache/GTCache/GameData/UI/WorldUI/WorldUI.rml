<rml>
    <head>
        <title>WorldUI</title>
        <link type="text/rcss" href="WorldUI.rcss" />
        <link type="text/template" href="../BaseTemplate.rml" />
        <link type="text/template" href="EventPanel.rml" />
        <link type="text/template" href="RightMenuPanel.rml" />
        <script lang="text/lua">
            function onShowUI(document, element)
            local insets = GetInsets()
            element.style.width = (element.client_width - insets[1]).."px"
            element: SetClass('full-hide', false)
            end
        </script>
    </head>
    <body template="BaseTemplate" class="world_ui full-hide" onshow="onShowUI(document, element) onFtuePanelShown(document)">
        <div id="top_panel" data-model="PlayerInfoModel">
            <div id="gems_panel">
	            <div class="left_panel">
					<div class="box_border" onclick="OnEvent(event, 'world_ui.avatar_click')">
						<PlayerPortret class="avatar" data-attr-netId="PlayerInfo.netId" />
					</div>
	            </div>
				<div class="right_panel">
					<div class="panel_name">
						<TruncatingString id="player_name" lines="1" break-word="true" data-attr-source="ToRMLText(PlayerInfo.name)"/>
					</div>
                <div class="panel" onclick="OnEvent(event, 'world_ui.gems_panel_click')" data-attrif-disabled="1">
                    <div id="gem_left_panel">
                        <div id="gem_icon"></div>
                    </div>
                    <div id="gem_right_panel">
                        {{PlayerInfo.gemsCount}}
                    </div>
                </div>
					<div id="gem_plus_button_right">
                <div id="plus_button" onclick="OnEvent(event, 'world_ui.gems_panel_click')"></div>
            </div>
				</div>

            </div>
            <div id="pearls_panel" data-class-hidden="!PlayerInfo.canShowPearls">
                <div class="panel">
                    <div id="pearl_left_panel">
                        <div id="pearl_icon"></div>
                    </div>
                    <div id="pearl_right_panel">
                      {{PlayerInfo.pearlCount}}
        </div>
        </div>
            </div>
        </div>
      <div id="left_panel" data-model="PlayerInfoModel" data-class-withPearls="PlayerInfo.canShowPearls">
            <template src="EventPanel" />
        </div>
        <div id="right_panel">
            <template src="RightMenuPanel" />
        </div>
    </body>
</rml>